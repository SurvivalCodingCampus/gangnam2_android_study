# 2025-01-14 TIL

## 상태가 없는 컴포저블 작성 규칙

### 규칙
1. 컴포저블 함수는 가능한 Stateless 를 유지한다.
2. 컴포저블 함수 내부엥서 앱의 상태를 변경하지 않는다.
3. 유저 인터랙션으로 상태 변경이 필요할 때는 콜백함수를 통해 외부에 노출한다.
4. 
### 데이터의 흐름
- 대부분의 UI는 stateless 다. getter,setter를 노출하지 않는다.
- 함수의 파라미터로 데이터를 받아 UI를 갱신
- 데이터가 변경되면 UI는 업데이트 된다.
- 가능한 불변 데이터 클래스를 데이터로 받는다.

### 이벤트의 흐름
- 사용자와 UI의 인터랙션시 이벤트가 발생
- 이벤트는 콜백 함수를 통해 외부의 앱 로직에 전달하고 로직은 앱의 상태를 변경
- 상태가 변경되면 컴포저블은 변경된 상태를 다시 그린다.

### 위젯 작성 규칙을 지킬경우 이점
- 추후에 MVVM 패턴 적용시 동일한 규칙으로 UI를 유지할 수 있다.
- 테스트 가능한 UI를 작성할 수 있다.
- 성능 향상
- UI 로직 통일성
- 유지보수의 용이성

### Preview
- @Preview 어노테이션 사용
- @Preview(showBackground = true) 하면 뒤에 배경이 생겨버림 ㄷㄷ
- 프리뷰 만들기 귀찮을 때 → generate로 compose preview 로 만들기 

### Button
- 기본 값은 ElevatedButton 이다!
### Icon
- contentDescription 써야 하는 이유 : 시각장애인을 위해 음성...

### compose Test
- androidTest 폴더에 작성해야 한다.
- onNodeWithText() → ()안에 적힌 텍스트를 찾아서 동작 수행!
  - `composeTestRule.onNodeWithText("Label2").performClick()`




